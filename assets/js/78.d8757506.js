(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{572:function(s,a,t){"use strict";t.r(a);var n=t(18),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-skywalking是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-skywalking是什么"}},[s._v("#")]),s._v(" 1 SkyWalking是什么？")]),s._v(" "),t("p",[s._v("SkyWalking是一个国产开源框架，2015年由吴晟开源 ， 2017年加入Apache孵化器。SkyWalking是分布式系统的应用程序性能监视 工具，专为微服务、云原生架构和基于容器(Docker、K8s、Mesos)架构而设计。SkyWalking是观察性分析平台和应用性能管理系统，提供分布式追踪、服务网格遥测分析、度量聚合和可视化一体化解决方案。")]),s._v(" "),t("p",[t("strong",[s._v("官网")]),s._v(": "),t("a",{attrs:{href:"http://skywalking.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://skywalking.apache.org/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("下载")]),s._v(": "),t("a",{attrs:{href:"http://skywalking.apache.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://skywalking.apache.org/downloads/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("Github")]),s._v(": "),t("a",{attrs:{href:"https://github.com/apache/skywalking",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/apache/skywalking"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("文档")]),s._v(": "),t("a",{attrs:{href:"https://skywalking.apache.org/docs/main/v8.4.0/readme/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://skywalking.apache.org/docs/main/v8.4.0/readme/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("strong",[s._v("中文文档")]),s._v(": "),t("a",{attrs:{href:"https://skyapm.github.io/document-cn-translation-of-skywalking/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://skyapm.github.io/document-cn-translation-of-skywalking/"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"_1-1-调用链选型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-调用链选型"}},[s._v("#")]),s._v(" 1.1 调用链选型")]),s._v(" "),t("ol",[t("li",[s._v("Zipkin是Twitter开源的调用链分析工具，目前基于springcloud sleuth得到了广泛的使用，特点是轻量，使用部署简单。")]),s._v(" "),t("li",[s._v("Pinpoint是韩国人开源的基于字节码注入的调用链分析，以及应用监控分析工具。支持多种插件，UI功能强大，接入端无代码侵入。")]),s._v(" "),t("li",[s._v("SkyWalking是本土开源的基于字节码注入的调用链分析，以及应用监控分析工具。特点是支持多种插件，UI功能较强，接入 端无代码侵入。目前已加入Apache孵化器。")]),s._v(" "),t("li",[s._v("CAT是大众点评开源的基于编码和配置的调用链分析，应用监控分析，日志采集，监控报警等一系列的监控平台工具。")])]),s._v(" "),t("p",[t("strong",[s._v("基本原理")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("Zipkin")]),s._v(" "),t("th",[s._v("Pinpoint")]),s._v(" "),t("th",[s._v("SkyWalking")]),s._v(" "),t("th",[s._v("CAT")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("拦截请求，发送数据（HTTP，MQ）到zipkin服务")]),s._v(" "),t("td",[s._v("java探针，字节码增强")]),s._v(" "),t("td",[s._v("java探针，字节码增强")]),s._v(" "),t("td",[s._v("代码埋点（连接器，注解，过滤器等）")])])])]),s._v(" "),t("p",[t("strong",[s._v("探针性能对比")])]),s._v(" "),t("p",[s._v("模拟了三种并发用户:500，750，1000。使用jmeter测试，每个线程发送30个请求，设置思考时间为10ms。使用的采样率为1，即 100%，这边与生产可能有差别。pinpoint默认的采样率为20，即50%，通过设置agent的配置文件改为100%。zipkin默认也是1。组 合起来，一共有12种。下面看下汇总表:")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515122607288.png",alt:"image-20220515122607288"}})]),s._v(" "),t("p",[s._v("从上表可以看出，在三种链路监控组件中，"),t("strong",[s._v("skywalking的探针对吞吐量的影响最小，zipkin的吞吐量居中。pinpoint的探针对吞吐 量的影响较为明显")]),s._v("，在500并发用户时，测试服务的吞吐量从1385降低到774，影响很大。然后再看下CPU和memory的影响，在内 部服务器进行的压测，对CPU和memory的影响都差不多在10%之内。")]),s._v(" "),t("h3",{attrs:{id:"_1-2-skywalking整体架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-skywalking整体架构"}},[s._v("#")]),s._v(" 1.2 SkyWalking整体架构")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515123448942.png",alt:"image-20220515123448942"}})]),s._v(" "),t("p",[t("strong",[s._v("整个架构分成四部分:")])]),s._v(" "),t("ol",[t("li",[s._v("上部分 "),t("strong",[s._v("Agent")]),s._v(" : 负责从应用中，收集链路信息，发送给 SkyWalking OAP 服务器;")]),s._v(" "),t("li",[s._v("下部分 "),t("strong",[s._v("SkyWalking OAP")]),s._v(" : 负责接收Agent发送的Tracing数据信息，然后进行分析(Analysis Core)，存储到外 部存储器(Storage)，最终提供查询(Query)功能;")]),s._v(" "),t("li",[s._v("右部分 "),t("strong",[s._v("Storage")]),s._v(": Tracing数据存储，目前支持ES、MySQL、Sharding Sphere、TiDB、H2多种存储器，目前采 用较多的是ES，主要考虑是SkyWalking开发团队自己的生产环境采用ES为主;")]),s._v(" "),t("li",[s._v("左部分 "),t("strong",[s._v("SkyWalking UI")]),s._v(": 负责提供控制台，查看链路等等;")])]),s._v(" "),t("p",[t("strong",[s._v("SkyWalking支持三种探针:")])]),s._v(" "),t("ol",[t("li",[s._v("Agent – 基于ByteBuddy字节码增强技术实现，通过jvm的agent参数加载，并在程序启动时拦截指定的方法来 收集数据。")]),s._v(" "),t("li",[s._v("SDK – 程序中显式调用SkyWalking提供的SDK来收集数据，对应用有侵入。")]),s._v(" "),t("li",[s._v("Service Mesh – 通过Service mesh的网络代理来收集数据。")])]),s._v(" "),t("h3",{attrs:{id:"_1-3-skywalking环境部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-skywalking环境部署"}},[s._v("#")]),s._v(" 1.3 SkyWalking环境部署")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515124440030.png",alt:"image-20220515124440030"}})]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("skywalking agent")]),s._v("和业务系统绑定在一起，负责收集各种监控数据")]),s._v(" "),t("li",[t("strong",[s._v("skywalking oapservice")]),s._v("是负责处理监控数据的，比如接受skywalking agent的监控数据，并存储在数据 库中;接受skywalking webapp的前端请求，从数据库查询数据，并返回数据给前端。skywalking oapservice通常以集群的形式存在。")]),s._v(" "),t("li",[t("strong",[s._v("skywalking webapp")]),s._v("，前端界面，用于展示数据。")]),s._v(" "),t("li",[s._v("用于存储监控数据的"),t("strong",[s._v("数据库")]),s._v("，比如mysql、elasticsearch等。")])]),s._v(" "),t("h2",{attrs:{id:"_2-安装skywalking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装skywalking"}},[s._v("#")]),s._v(" 2 安装SkyWalking")]),s._v(" "),t("h3",{attrs:{id:"_2-1-下载并解压安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-下载并解压安装包"}},[s._v("#")]),s._v(" 2.1 下载并解压安装包")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压到 /louis 目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zvxf kibana-7.6.1-linux-x86_64.tar.gz -C /louis\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重命名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" apache-skywalking-apm-bin-es7 skywalking-7\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"_2-2-搭建skywalking-oap-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-搭建skywalking-oap-服务"}},[s._v("#")]),s._v(" 2.2 搭建SkyWalking OAP 服务")]),s._v(" "),t("p",[s._v("先使用默认的H2数据库存储,不用修改配置")]),s._v(" "),t("p",[s._v("config/application.yml")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("storage:\n  selector: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("h2}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("启动脚本bin/startup.sh")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost skywalking-7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bin/startup.sh ")]),s._v("\nSkyWalking OAP started successfully"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nSkyWalking Web Application started successfully"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("日志信息存储在logs目录下")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost skywalking-7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd logs/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("152")]),s._v("\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 01:26 oap.log\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("116700")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 01:27 skywalking-oap-server.log\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 01:26 webapp-console.log\n-rw-r--r--. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23563")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("月  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 01:27 webapp.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("启动成功后会启动两个服务，一个是skywalking-oap-server，一个是skywalking-web-ui skywalking-oap-server服务启动后会暴露11800 和 12800 两个端口，分别为收集监控数据的端口11800和接受前 端请求的端口12800。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("修改端口可以修改config/applicaiton.yml")])]),s._v(" "),t("p",[s._v("skywalking-web-ui服务会占用 8080 端口， 修改端口可以修改webapp/webapp.yml")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("server:\n  port: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\ncollector:\n  path: /graphql\n  ribbon:\n    ReadTimeout: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Point to all backend's restHost:restPort, split by ,")]),s._v("\n    listOfServers: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:12800\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("此次先修改端口为 8182")])]),s._v(" "),t("p",[s._v("访问 http://172.16.227.132:8182/")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220516211518594.png",alt:"image-20220516211518594"}})]),s._v(" "),t("h3",{attrs:{id:"_2-3-skywalking中的三个概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-skywalking中的三个概念"}},[s._v("#")]),s._v(" 2.3 SkyWalking中的三个概念")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("服务")]),s._v("(Service) ：表示对请求提供相同行为的一系列或一组工作负载，在使用Agent时，可以定义服务的名字;")]),s._v(" "),t("li",[t("strong",[s._v("服务实例")]),s._v("(Service Instance) ：上述的一组工作负载中的每一个工作负载称为一个实例， 服务实例就是操作系统上的一个真实进程;")]),s._v(" "),t("li",[t("strong",[s._v("端点")]),s._v("(Endpoint) ：对于特定服务所接收的请求路径, 如HTTP的URI路径和gRPC服务的类名 + 方法签名;")])]),s._v(" "),t("h2",{attrs:{id:"_3-skywalking快速开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-skywalking快速开始"}},[s._v("#")]),s._v(" 3 SkyWalking快速开始")]),s._v(" "),t("p",[t("strong",[s._v("在IDEA中使用SkyWalking")])]),s._v(" "),t("h3",{attrs:{id:"_3-1-拷贝安装包中agent目录到应用机器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-拷贝安装包中agent目录到应用机器"}},[s._v("#")]),s._v(" 3.1 拷贝安装包中agent目录到应用机器")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pwd")]),s._v("\n/louis/skywalking-7/agent\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nactivations  bootstrap-plugins  config  logs  optional-plugins  optional-reporter-plugins  plugins  skywalking-agent.jar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("skywalking-agent.jar启动时需读取config目录下的agent.config配置文件。")])]),s._v(" "),t("h3",{attrs:{id:"_3-2-idea应用中添加启动参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-idea应用中添加启动参数"}},[s._v("#")]),s._v(" 3.2 IDEA应用中添加启动参数")]),s._v(" "),t("ol",[t("li",[s._v("指定本机拷贝好的skywalking-agent.jar。")]),s._v(" "),t("li",[s._v("指定服务名。")]),s._v(" "),t("li",[s._v("指定SkyWalking的服务端ip。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515195019510.png",alt:"image-20220515195019510"}})]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-javaagent:/Users/luoxiaofeng/louisprojects/agent/skywalking-agent.jar\n-DSW_AGENT_NAME=springboot-skywalking-demo\n-DSW_AGENT_COLLECTOR_BACKEND_SERVICES=172.16.227.132:\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-3-启动应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-启动应用"}},[s._v("#")]),s._v(" 3.3 启动应用")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515195824985.png",alt:"image-20220515195824985"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220516211735014.png",alt:"image-20220516211735014"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515200057203.png",alt:"image-20220515200057203"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515200154419.png",alt:"image-20220515200154419"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515200244764.png",alt:"image-20220515200244764"}})]),s._v(" "),t("h2",{attrs:{id:"_4-skywalking告警通知"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-skywalking告警通知"}},[s._v("#")]),s._v(" 4 SkyWalking告警通知")]),s._v(" "),t("p",[s._v("skywalking告警的核心由一组规则驱动，这些规则定义在"),t("strong",[s._v("config/alarm-settings.yml")]),s._v("文件中，告警规则的定义分为三部分:")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("告警规则:它们定义了应该如何触发度量警报，应该考虑什么条件;")])]),s._v(" "),t("li",[t("p",[s._v("网络钩子(Webhook}:当警告触发时，哪些服务终端需要被通知;")])]),s._v(" "),t("li",[t("p",[s._v("gRPC钩子:远程gRPC方法的主机和端口，告警触发后调用; 为了方便，skywalking发行版中提供了默认的alarm-setting.yml文件，包括一些规则，每个规则有英文注释，可以 根据注释得知每个规则的作用:")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("1) 在最近10分钟的3分钟内服务平均响应时间超过1000ms\n2) 在最近10分钟的3分钟内服务平均响应时间超过1000ms\n3) 最近10分钟内，服务成功率在2分钟内低于80%\n4) 服务实例的响应时间在过去10分钟的2分钟内超过1000ms\n5) 数据库访问{name}的响应时间在过去10分钟的2分钟内超过1000ms  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("p",[t("strong",[s._v("只要我们的服务请求符合alarm-setting.yml文件中的某一条规则会触发告警。")])]),s._v(" "),t("p",[s._v("比如service_resp_time_rule规则:")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('service_resp_time_rule:\n  metrics-name: service_resp_time\n  op: ">"\n  threshold: 1000\n  period: 10\n  count: 3\n  silence-period: 5\n  message: Response time of service {name} is more than 1000ms in 3 minutes of last 10 minutes.\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/media/image-20220516183629794.png",alt:"image-20220516183629794"}})]),s._v(" "),t("p",[t("strong",[s._v("回调接口")])]),s._v(" "),t("p",[s._v("在config/alarm-settings.yml中配置回调接口，并重启skywalking服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("webhooks:\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  - http://127.0.0.1/notify/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  - http://127.0.0.1/go-wechat/")]),s._v("\n   - http://192.168.1.3:8000/notify\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jps")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13184")]),s._v(" OAPServerStartUp\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13200")]),s._v(" skywalking-webapp.jar\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13508")]),s._v(" Jps\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3272")]),s._v(" Elasticsearch\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill -9 13184 13200")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/media/image-20220516183421556.png",alt:"image-20220516183421556"}})]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IndexController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello louis"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/notify"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("notify")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestBody")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//TODO 告警信息，给技术负责人发短信，钉钉消息，邮件，微信通知等")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"notify successfully"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scopeId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scope"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SERVICE"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"springboot-skywalking-demo"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id0"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c3ByaW5nYm9vdC1za3l3YWxraW5nLWRlbW8=.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id1"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ruleName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_sla_rule"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"alarmMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Successful rate of service springboot-skywalking-demo is lower than 80% in 2 minutes of last 10 minutes"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"startTime"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1652701044636")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scopeId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scope"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SERVICE"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"springboot-skywalking-demo"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id0"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c3ByaW5nYm9vdC1za3l3YWxraW5nLWRlbW8=.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"id1"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ruleName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_resp_time_percentile_rule"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"alarmMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Percentile response time of service springboot-skywalking-demo alarm in 3 minutes of last 10 minutes, due to more than one condition of p50 > 1000, p75 > 1000, p90 > 1000, p95 > 1000, p99 > 1000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"startTime"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1652701044636")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h2",{attrs:{id:"_5-基于elasticsearch持久化跟踪数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-基于elasticsearch持久化跟踪数据"}},[s._v("#")]),s._v(" 5 基于elasticsearch持久化跟踪数据")]),s._v(" "),t("p",[t("strong",[s._v("修改config/application.yml配置文件")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("storage:\n  selector: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("elasticsearch7}")]),s._v("\n  \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\nelasticsearch7:\n    nameSpace: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_NAMESPACE"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v('""}')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置es地址")]),s._v("\n    clusterNodes: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_CLUSTER_NODES"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("172.16.227.132"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("9200}")]),s._v("\n    protocol: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_HTTP_PROTOCOL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v('"http"}')]),s._v("\n    trustStorePath: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_SSL_JKS_PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v('""}')]),s._v("\n    trustStorePass: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_SSL_JKS_PASS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v('""}')]),s._v("\n    dayStep: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_DAY_STEP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("1}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Represent the number of days in the one minute/hour/day index.")]),s._v("\n    indexShardsNumber: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_INDEX_SHARDS_NUMBER"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("1}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Shard number of new indexes")]),s._v("\n    indexReplicasNumber: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SW_STORAGE_ES_INDEX_REPLICAS_NUMBER"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("1}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Replicas number of new indexes")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[t("strong",[s._v("重启SkyWalking")])]),s._v(" "),t("p",[s._v("启动时会向elasticsearch中创建大量的index索引用于持久化数据，每天会产生一个新的索引文件。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220516212906644.png",alt:"image-20220516212906644"}})]),s._v(" "),t("h2",{attrs:{id:"_6-自定义skywalking链路追踪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-自定义skywalking链路追踪"}},[s._v("#")]),s._v(" 6 自定义SkyWalking链路追踪")]),s._v(" "),t("p",[s._v("如果我们希望对项目中的业务方法，实现链路追踪，方便我们排查问题，可以使用如下的代码 引入依赖")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.apache.skywalking"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("apm‐toolkit‐trace"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("8.4.0"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_6-1-traceid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-traceid"}},[s._v("#")]),s._v(" 6.1 traceId")]),s._v(" "),t("p",[t("strong",[s._v("在业务方法中可以TraceContext获取到traceId")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/list"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//TraceContext可以绑定key‐value")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TraceContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("putCorrelation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"louis"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Optional")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" op "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TraceContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCorrelation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name = {} "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" op"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取跟踪的traceId")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" traceId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TraceContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"traceId = {} "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" traceId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[t("strong",[s._v("测试")]),s._v(" http://192.168.1.3:8000/user/list")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515220451890.png",alt:"image-20220515220451890"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515220532760.png",alt:"image-20220515220532760"}})]),s._v(" "),t("p",[t("strong",[s._v("在Skywalking UI中查询tranceId")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515220810768.png",alt:"image-20220515220810768"}})]),s._v(" "),t("h3",{attrs:{id:"_6-2-trace将方法加入追踪链路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-trace将方法加入追踪链路"}},[s._v("#")]),s._v(" 6.2 @Trace将方法加入追踪链路")]),s._v(" "),t("ol",[t("li",[s._v("如果一个业务方法想在ui界面的跟踪链路上显示出来，只需要在业务方法上加上@Trace注解即可.")]),s._v(" "),t("li",[s._v("我们还可以为追踪链路增加其他额外的信息，比如记录参数和返回信息。实现方式:在方法上增加@Tag或者 @Tags。")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Service")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserMapper")]),s._v(" userMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Trace")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Tag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"list"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"returnedObj"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Trace")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Tag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"param"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arg[0]"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Tag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"returnedObj"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/media/image-20220515221439811.png",alt:"image-20220515221439811"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515221529176.png",alt:"image-20220515221529176"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/media/image-20220515221630836.png",alt:"image-20220515221630836"}})]),s._v(" "),t("h2",{attrs:{id:"_7-安装包下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-安装包下载"}},[s._v("#")]),s._v(" 7 安装包下载")]),s._v(" "),t("p",[t("strong",[s._v("百度网盘")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://pan.baidu.com/s/1pvGbnkMpdqs3ICMpMsrVow",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pan.baidu.com/s/1pvGbnkMpdqs3ICMpMsrVow"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("提取码 : cr1x")])])}),[],!1,null,null,null);a.default=e.exports}}]);